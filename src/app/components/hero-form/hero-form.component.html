<h2>Add superhero</h2>

<p>
  Change the fields below until you are happy with the hero entry, then click on
  the submit button at the bottom of the page
</p>

<app-hero [hero]="hero"></app-hero>

<div class="container">
  <form #heroForm="ngForm">
    {{ heroForm.valid | json }}
    <!-- notes <form #heroForm="ngForm" > (click|select|ngSelect)="onSubmit()" -->
    <div class="form-group">
      <label for="name">Name</label>
      <input
        type="text"
        class="form-control"
        id="name"
        required
        [(ngModel)]="hero.name"
        name="name"
        #name="ngModel"
      />
      <div [hidden]="name.valid || name.pristine" class="alert alert-danger">
        Name is required
      </div>
    </div>

    <div class="form-group">
      <label for="alterEgo">Alter ego</label>
      <input
        type="text"
        class="form-control"
        id="alterEgo"
        [(ngModel)]="hero.alterEgo"
        name="alterEgo"
        required
        minlength="3"
        #alterEgo="ngModel"
      />
    </div>
    <ng-container *ngIf="alterEgo.invalid && alterEgo.touched">
      <p *ngIf="alterEgo?.errors.required">Field is required</p>
      <p *ngIf="alterEgo?.errors.minlength">Field is too short</p>
    </ng-container>

    <p>State: {{ alterEgo.errors | json }}</p>
    <div class="form-group">
      <label for="power">Hero power</label>
      <select
        class="form-control"
        id="power"
        required
        [(ngModel)]="hero.power"
        name="power"
      >
        <option *ngFor="let pow of powers" [value]="pow">{{ pow }}</option>
      </select>
    </div>

    <div class="form-group">
      <label for="url">Image URL</label>
      <input
        type="text"
        class="form-control"
        id="url"
        [(ngModel)]="hero.url"
        name="url"
      />
    </div>

    <button
      [disabled]="!heroForm.valid"
      type="submit"
      class="btn btn-success"
      (click)="onSubmit()"
    >
      Submit
    </button>
  </form>

  <a class="route-link" routerLink="/hero-list">Return to the hero list</a>
</div>
